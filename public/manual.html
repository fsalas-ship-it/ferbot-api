<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FerBot ¬∑ Manual de Instalaci√≥n y Uso (v1.3)</title>
<style>
  :root{
    --ink:#e2e8f0; --muted:#94a3b8; --bg:#0b0f19; --panel:#0f1524;
    --accent:#97C93E; --bad:#ef4444; --warn:#f59e0b; --good:#19c37d;
    --card:#101826; --line:rgba(255,255,255,.08);
  }
  html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
  .wrap{max-width:1024px;margin:0 auto;padding:28px 20px 80px}
  h1{font-size:28px;margin:0 0 6px}
  h2{margin:28px 0 10px;font-size:20px;border-top:1px solid var(--line);padding-top:20px}
  h3{margin:22px 0 8px;font-size:16px;color:#cbd5e1}
  p{line-height:1.6;color:#cbd5e1}
  code,pre{background:#0e1524;border:1px solid var(--line);border-radius:8px;padding:2px 6px}
  pre{padding:12px;overflow:auto}
  .pill{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);
        background:#0e1524;padding:6px 10px;border-radius:999px;color:#cbd5e1;font-size:13px}
  .btn{display:inline-block;background:var(--accent);color:#0b0f19;font-weight:800;
       padding:10px 14px;border-radius:10px;text-decoration:none}
  .grid{display:grid;gap:12px;grid-template-columns:repeat(12,1fr)}
  .card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:14px}
  .col6{grid-column:span 6} .col4{grid-column:span 4} .col8{grid-column:span 8} .col12{grid-column:span 12}
  ul,ol{padding-left:20px}
  .kbd{background:#111827;border:1px solid var(--line);border-bottom-width:3px;border-radius:8px;padding:2px 6px}
  .callout{border-left:4px solid var(--accent);background:#0e1524;border:1px solid var(--line);padding:12px 14px;border-radius:8px;margin:10px 0}
  .warn{border-left-color:var(--warn)}
  .bad{border-left-color:var(--bad)}
  .good{border-left-color:var(--good)}
  .toc a{color:#93c5fd;text-decoration:none}
  .small{font-size:12px;color:var(--muted)}
  @media print{
    .no-print{display:none!important}
    body{background:#fff;color:#111}
    .card{border-color:#ddd}
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="grid">
    <div class="col12 card" style="display:flex;align-items:center;justify-content:space-between;gap:12px">
      <div>
        <h1>FerBot ¬∑ Manual de Instalaci√≥n y Uso</h1>
        <div class="small">Versi√≥n 1.3 ¬∑ √öltima actualizaci√≥n: 2025-11-01 ¬∑ Equipo Platzi</div>
      </div>
      <div class="pill"><span>Estado</span><span style="width:10px;height:10px;border-radius:12px;background:var(--good)"></span><b>Estable</b></div>
    </div>

    <div class="col12 card toc">
      <h3>Contenido</h3>
      <ol>
        <li><a href="#intro">Qu√© es FerBot</a></li>
        <li><a href="#requisitos">Requisitos</a></li>
        <li><a href="#instalacion">Instalaci√≥n de la extensi√≥n</a></li>
        <li><a href="#activacion">Activaci√≥n por dominio y atajos</a></li>
        <li><a href="#uso">Uso del panel</a></li>
        <li><a href="#funciones">Funciones inteligentes</a></li>
        <li><a href="#panel-emergencia">Panel de emergencia</a></li>
        <li><a href="#dashboard">Dashboard de usabilidad</a></li>
        <li><a href="#mantenimiento">Mantenimiento (Trainer/Salud)</a></li>
        <li><a href="#buenas">Buenas pr√°cticas</a></li>
        <li><a href="#troubleshooting">Soluci√≥n de problemas</a></li>
        <li><a href="#faq">FAQ</a></li>
      </ol>
    </div>

    <div id="intro" class="col12 card">
      <h2>1) Qu√© es FerBot</h2>
      <p>FerBot es el asistente comercial de Platzi. Ayuda a redactar respuestas cortas, con energ√≠a y orientaci√≥n a valor
      (suscripci√≥n anual), explicando <b>POR QU√â</b> y el <b>SIGUIENTE PASO</b> para que los asesores aprendan y vendan mejor.</p>
      <p>Funciona como <b>extensi√≥n de Chrome</b> con bot√≥n flotante, y adem√°s cuenta con un <b>panel web de emergencia</b>.</p>
    </div>

    <div id="requisitos" class="col12 card">
      <h2>2) Requisitos</h2>
      <ul>
        <li>Google Chrome (v110+)</li>
        <li>Endpoint activo: <code>https://ferbot-api.onrender.com</code></li>
        <li>Carpeta <code>extension/</code> con: <code>manifest.json</code>, <code>contentScript.js</code>, <code>popup.html</code> e √≠conos.</li>
      </ul>
    </div>

    <div id="instalacion" class="col12 card">
      <h2>3) Instalaci√≥n de la extensi√≥n</h2>
      <ol>
        <li>Abre <code>chrome://extensions/</code> y activa <b>Modo Desarrollador</b>.</li>
        <li>Haz clic en <b>Cargar descomprimida</b> y selecciona la carpeta <code>extension/</code>.</li>
        <li>Fija el √≠cono de FerBot en la barra (men√∫ de extensiones &rarr; üìå).</li>
      </ol>
      <div class="callout good"><b>Listo</b>: la extensi√≥n queda instalada. Puedes controlarla desde el popup (icono de la barra).</div>
    </div>

    <div id="activacion" class="col12 card">
      <h2>4) Activaci√≥n por dominio y atajos</h2>
      <p>FerBot solo aparece en los sitios que autorices desde el <b>popup</b> de la extensi√≥n.</p>
      <ul>
        <li><b>Activar aqu√≠</b>: habilita FerBot en el dominio actual.</li>
        <li><b>Desactivar aqu√≠</b>: lo oculta (no invasivo).</li>
        <li><b>Abrir panel</b>: muestra el panel flotante de inmediato.</li>
      </ul>
      <p><b>Atajo</b>: <span class="kbd">Alt</span> + <span class="kbd">Shift</span> + <span class="kbd">F</span> para abrir/cerrar el panel.</p>
    </div>

    <div id="uso" class="col12 card">
      <h2>5) Uso del panel</h2>
      <ul>
        <li><b>Nombre del cliente</b>, <b>Etapa</b>, <b>Contexto</b> y <b>Texto del cliente</b>.</li>
        <li>Bot√≥n <b>Generar</b> ‚Üí crea <b>REPLY</b>, <b>WHY</b>, <b>NEXT</b> (m√°x. 220 caracteres, 1‚Äì2 frases).</li>
        <li><b>Autopaste</b> (opcional) ‚Üí pega autom√°ticamente en el campo de chat activo.</li>
        <li><b>Calificaciones</b> ‚Üí aparecen tras generar; al calificar se ocultan y quedan en el dashboard.</li>
        <li>Bot√≥n <b>Clear</b> ‚Üí reinicia la respuesta.</li>
        <li>Bot√≥n <b>X</b> en el header ‚Üí cierra el panel (el bot√≥n flotante queda disponible).</li>
      </ul>
      <div class="callout"><b>Tip</b>: el panel detecta el sentimiento del texto del cliente y lo muestra como insignia (positivo / neutral / negativo).</div>
    </div>

    <div id="funciones" class="col12 card">
      <h2>6) Funciones inteligentes</h2>
      <ul>
        <li><b>Detecci√≥n de intenci√≥n</b> (tiempo, precio, cert, competencia, pitch).</li>
        <li><b>Analizador de sentimiento</b> compacto junto al campo de texto.</li>
        <li><b>Countdown</b> del tiempo de respuesta: rojo ‚Üí √°mbar ‚Üí verde.</li>
        <li><b>Memoria ligera</b>: nombre del cliente y preferencia de autopaste.</li>
        <li><b>Telemetr√≠a</b>: calificaciones enviadas al dashboard.</li>
      </ul>
    </div>

    <div id="panel-emergencia" class="col12 card">
      <h2>7) Panel de emergencia</h2>
      <p>Si no puedes usar la extensi√≥n, utiliza el panel web:</p>
      <pre>https://ferbot-api.onrender.com/agent</pre>
      <p>Genera respuestas con el mismo formato REPLY / WHY / NEXT.</p>
    </div>

    <div id="dashboard" class="col12 card">
      <h2>8) Dashboard de usabilidad</h2>
      <p>Visita:</p>
      <pre>https://ferbot-api.onrender.com/admin/usability</pre>
      <ul>
        <li>M√©tricas clave: respuestas, winrate, buenas/malas, top respuestas.</li>
        <li>Distribuci√≥n por etapa e intento, usuarios activos 5m / hoy.</li>
        <li>Auto-actualizaci√≥n cada 5 segundos.</li>
      </ul>
    </div>

    <div id="mantenimiento" class="col12 card">
      <h2>9) Mantenimiento</h2>
      <h3>Recargar Trainer</h3>
      <pre>https://ferbot-api.onrender.com/admin/reloadTrainer</pre>
      <p>Respuesta esperada:</p>
      <pre>{ "ok": true, "identity_len": 2400, "knowledge_len": 1600 }</pre>
      <h3>Salud del servicio</h3>
      <pre>https://ferbot-api.onrender.com/health</pre>
      <pre>{ "ok": true, "openai": true, "model_env": "gpt-5" }</pre>
    </div>

    <div id="buenas" class="col12 card">
      <h2>10) Buenas pr√°cticas</h2>
      <ul>
        <li>Tono Colombia, c√°lido y con energ√≠a. Sin llamadas ni ‚Äúte env√≠o material‚Äù.</li>
        <li>Siempre <b>REPLY</b> (al cliente) + <b>WHY</b> (raz√≥n de enfoque) + <b>NEXT</b> (siguiente paso de venta anual).</li>
        <li>Califica al menos 3 respuestas al d√≠a para mejorar el ranking.</li>
      </ul>
    </div>

    <div id="troubleshooting" class="col12 card">
      <h2>11) Soluci√≥n de problemas</h2>
      <h3>Error ‚ÄúOpenAI quota‚Äù o 429</h3>
      <ol>
        <li>Espera 60‚Äì90 s y reintenta.</li>
        <li>Verifica en <code>/health</code> que <code>openai: true</code>.</li>
        <li>Si persiste, notifica al owner del servicio (revisi√≥n de plan/clave).</li>
      </ol>
      <h3>El bot√≥n no aparece en un sitio</h3>
      <ol>
        <li>Abre el <b>popup</b> de FerBot y pulsa <b>‚ÄúActivar aqu√≠‚Äù</b>.</li>
        <li>Recarga la p√°gina.</li>
      </ol>
      <h3>No pega la respuesta</h3>
      <ol>
        <li>Activa <b>Autopaste</b> o pega manualmente con <span class="kbd">Cmd/Ctrl</span> + <span class="kbd">V</span>.</li>
        <li>En algunos editores privados, la app bloquea la escritura program√°tica.</li>
      </ol>
    </div>

    <div id="faq" class="col12 card">
      <h2>12) FAQ r√°pido</h2>
      <p><b>¬øPuedo usarlo fuera de Hilos/WhatsApp?</b><br> S√≠. Act√≠valo desde el popup en cualquier dominio que necesites.</p>
      <p><b>¬øC√≥mo cierro el panel?</b><br> Usa la ‚ÄúX‚Äù del header o el atajo <span class="kbd">Alt</span> + <span class="kbd">Shift</span> + <span class="kbd">F</span>.</p>
      <p class="small">¬© 2025 Platzi ¬∑ Uso interno. No distribuir fuera del equipo autorizado.</p>
    </div>
  </div>
</div>
</body>
</html>
